# 思维导图之节点结构

如果要打造一个思维导图的控件。我们基本可以推断出这个结构是一个树形结构。而树形结构的节点模型是怎样的呢？它将具备啥属性呢？

* 指向父节点
* 子节点集合
* 当前的层级
* 是否关闭节点
* 是否当前对焦的节点

由于这个节点是一个抽象的概念，所以我把它看做为一种泛型，这样它就可以携带更多其他拓展属性。

根据以上的分析我们可以编写出节点代码如下
```
package com.owant.thinkmap

import java.util.*

/**
 *  created by Kyle.Zhong on 2020/6/8
 *  节点
 */
open class NodeModel<T> {

    /**
     * 父节点
     */
    var parentNode: NodeModel<T>? = null

    /**
     * 当前节点的数据
     */
    var nodeValue: T

    /**
     * 子节点集合
     */
    var childNodes: LinkedList<NodeModel<T>>? = LinkedList<NodeModel<T>>()

    /**
     * 当前的层级
     */
    var float: Int? = 0

    /**
     * 是否关闭
     */
    var close: Boolean? = false

    /**
     * 是否对焦
     */
    var focusing: Boolean? = false


    constructor(nodeValue: T) {
        this.nodeValue = nodeValue
    }
}

```

测试代码
```
package com.owant.thinkmap

import org.junit.Assert
import org.junit.Test
import org.junit.runner.RunWith
import org.junit.runners.JUnit4

/**
 * created by Kyle.Zhong on 2020/6/8
 */

@RunWith(JUnit4::class)
class NodeModelTest {

    @Test
    fun createNode() {
        var rootNode = NodeModel<Person>(Person(100, "Father"));
        rootNode.float = 1
        rootNode.focusing = true


        var child = NodeModel<Person>(Person(12, "Child"))
        child.float = 2
        child.focusing = false

        var child2 = NodeModel<Person>(Person(10, "Child2"))
        child2.focusing = false

        rootNode.childNodes?.add(child)
        rootNode.childNodes?.add(child2)

        Assert.assertEquals(rootNode.focusing, true)
        Assert.assertEquals(rootNode.childNodes?.get(0)?.focusing, false)
        Assert.assertEquals(rootNode.childNodes?.get(0)?.nodeValue?.name, "Child")
        Assert.assertEquals(rootNode.childNodes?.get(1)?.nodeValue?.name, "Child2")
    }

}

```


